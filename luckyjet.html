<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUCKYJET</title>
    <style>
      /* CSS Starts Here */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: "Inter", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background: #140F26;
        color: #ffffff;
      }
      
      .background {
        width: 398px;
        height: 100vh;
        background-repeat: no-repeat;
        background-size: cover;
        /* Note: The background image path might need adjustment if it's not in the correct folder relative to the HTML file. */
        background-image: url("../images/background.jpg"); 
      }
      
      .pers-animate {
        position: absolute;
        left: -205px;
        top: 138px;
        z-index: 0;
        width: 319px;
        height: 300px;
        animation: cowmove 15s infinite;    
      }
      
      @keyframes cowmove{
          0% {
            transform: translateX(0px) rotateY(0deg);
          }
          49% {
            transform: translateX(300px) translateY(-25px) rotateY(0deg);
          }
          50% {
            transform: translateX(300px) translateY(-25px) rotateY(0deg);
          }
          100% {
            transform: translateX(0px) rotateY(0deg);
          }
      }
      
      .container {
        position: relative;
        width: 398px;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }
      
      .error-notification {
        width: 300px;
        height: 50px;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: -25px;
        clip-path: inset(0px round 10px 10px);
        transition: all .2s;
        transform: translateY(-99px);
      }
      
      .error-background {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 300px;
        height: 50px;
        background: #FFEBEB;
        opacity: .5;
        border-radius: 10px;
        margin-bottom: -52px;
      }
      
      .icon-error {
        z-index: 2;
      }
      
      .error-exit {
        position: absolute;
        right: 0;
        width: 50px;
        height: 50px;
        z-index: 2;
        cursor: pointer;
        background: #FFC2C2;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 10px;
      }
      
      .text-error {
        color: #ffffff;
        font-size: 12px;
        font-weight: 900;
        z-index: 2;
        display: flex;
        justify-content: center;
        padding-left: 10px;
        padding-right: 45px;
      }
      
      .error-progress {
        width: 300px;
        height: 3px;
        background: linear-gradient(90deg, #E00000 0%, #E00000 100%) left /0% 100% no-repeat #D9D9D9;
        z-index: 4;
        position: absolute;
        bottom: 0;
        left: 0;
        border-radius: 5px;
      }
      
      @keyframes animateErrorProgress {
        100% {
          background-size: 100% 100%;
        }
      }
      
      .top-content {
        margin-bottom: 60px;  
      }
      
      .name-bot {
        display: flex;
        justify-content: center;
        font-size: 15px;
        font-weight: 900;
      }
      
      .print-signal {
        margin-bottom: 34px;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 217px;
        height: 217px;
        background-color: #151027;
        border: 5px solid #34A5B5;
        border-radius: 50%;
        font-size: 40px;
        font-weight: 900;
        transition: all .5s;
        z-index: 10;
      }
      
      .print-signal span {
        text-transform: uppercase;
        font-size: 20px;
        text-align: center;
      }
      
      .stop-signal-time {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 26px;
        width: 230px;
        transition: all .5s;
      }
      
      .stop-timer {
        font-size: 20px;
        font-weight: 900;
        height: 35px;
      }
      
      .stop-progress {
        width: 221px;
        height: 18px;
        background: linear-gradient(90deg, #BA60FD 0%, #218288 100%) left /0% 100% no-repeat #D9D9D9;
        border-radius: 15px;
      }
      
      @keyframes animateProgress {
        100% {
          background-size: 100% 100%;
        }
      }
      
      .button-game {
        display: flex;
        flex-direction: column;
        gap: 30px;
      }
      
      .get-signal {
        position: relative;
        width: 278px;
        height: 56px;
        border: none;
        background: linear-gradient(90deg, #BA60FD 0%, #218288 100%);
        box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);
        border-radius: 30px;
        color: #ffffff;
        font-size: 24px;
        font-weight: 900;
        cursor: pointer;
        transition: all .2s;
        z-index: 0;
      }
      
      .get-signal-two {
        position: absolute;
        width: 278px;
        height: 56px;
        border: none;
        box-shadow: 0px 1px 2px rgba(62, 41, 102, 0.05);
        border-radius: 30px;
        background: linear-gradient(90deg, #BA60FD 0%, #218288 100%);
        color: #4d3396;
        font-size: 24px;
        font-weight: 900;
        cursor: pointer;
        z-index: -1;
        transition: all .2s;
      }
      
      .game-here {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0 auto;
        width: 130px;
        height: 35px;
        background: linear-gradient(90deg, #BA60FD 0%, #218288 100%);
        box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);
        border-radius: 30px;
        color: #ffffff;
        font-size: 16px;
        font-weight: 900;
        text-decoration: none;
        transition: all .2s;
        z-index: 4;
      }
      
      .get-signal::before, .game-here::before, .get-signal-two::before{
        content: "";
        position: absolute;
        inset: 0px;
        z-index: -1;
        background: linear-gradient(90deg, #BA60FD 0%, #218288 100%);
        filter: blur(10px);
        border-radius: 30px;
      }
      
      .get-signal:active, .game-here:active, .get-signal-two:active{
        transform: scale(95%);
      }
      
      .deactivate {
        opacity: 0;
      }
      /* CSS Ends Here */
    </style>
</head>
<body>
    <div class="background">
      <div class="container">
        <!-- Note: Image paths might need adjustment -->
        <img class="pers-animate" src="images/pers.gif" alt="">
  
        <div id="error-notification" class="error-notification deactivate">
          <div class="error-background"></div>
          <img class="icon-error" src="images/error.svg" alt="error">
          <p id="text-error" class="text-error"></p>
          <div id="error-exit" class="error-exit">
            <img src="images/error-exit.svg" alt="exit">
          </div>
          <div id="error-progress" class="error-progress"></div>
        </div>
  
        <div class="top-content">
          <img draggable="false" src="images/logo.svg" alt="logo" class="logo-game">
          <p class="name-bot">@ROVASOFFICIEL</p>
        </div>
  
        <div class="print-signal" id="print-signal"><span>Clickez sur  
"NEXT SIGNAL"</span></div>
        <div class="stop-signal-time deactivate" id="stop-signal-time-block">
          <p class="stop-timer" id="stop-timer"></p>
          <div class="stop-progress" id="stop-progress"></div>
        </div>
  
        <div class="button-game">
          <button class="get-signal" id="get-signal">NEXT SIGNAL</button>
          <button class="get-signal-two deactivate" id="get-signal-two">GET SIGNAL</button>
          <a href="index.html" class="game-here">Retour</a>
        </div>
      </div>
    </div>
  
    <script>
      // JavaScript Starts Here
      const buttonGetSignal = document.getElementById("get-signal");
      const printSignal = document.getElementById("print-signal");
      const stopTimer = document.getElementById("stop-timer");
      const stopProgress = document.getElementById("stop-progress");
      const stopBlock = document.getElementById("stop-signal-time-block");

      function getRandomFloat(min, max, decimals) {
          const str = (Math.random() * (max - min) + min).toFixed(decimals);
          return parseFloat(str);
      }

      function startCooldown(seconds) {
          let remaining = seconds;
          stopBlock.classList.remove("deactivate");

          // Initial setup for progress bar
          const initialPercent = ((seconds - remaining) / seconds) * 100;
          stopProgress.style.background = `linear-gradient(90deg, #BA60FD 0%, #218288 100%) left / ${initialPercent}% 100% no-repeat #D9D9D9`;

          const interval = setInterval(() => {
              remaining--;
              stopTimer.innerText = `Prochain signal dans ${remaining} sec`;

              // Update progress bar width
              const percent = ((seconds - remaining) / seconds) * 100;
              stopProgress.style.backgroundSize = `${percent}% 100%`;

              if (remaining <= 0) {
                  clearInterval(interval);
                  stopBlock.classList.add("deactivate");
                  buttonGetSignal.disabled = false;
                  buttonGetSignal.innerText = "NEXT SIGNAL";
                  printSignal.innerHTML = `<span>Clickez sur  
"NEXT SIGNAL"</span>`;
              }
          }, 1000);
      }

      buttonGetSignal.addEventListener("click", () => {
          buttonGetSignal.disabled = true;

          // Generate a signal
          let signal = getRandomFloat(1.20, 3.99, 2);
          if (signal.toString().length == 3) signal += "0";
          if (signal.toString().length == 1) signal += ".00";

          // Display the signal
          printSignal.innerHTML = `<span style="font-size: 40px;">${signal}x</span>`;

          // Start cooldown
          buttonGetSignal.innerText = "Veuillez patienter...";
          startCooldown(20);
      });
      // JavaScript Ends Here
    </script>
</body>
</html>
